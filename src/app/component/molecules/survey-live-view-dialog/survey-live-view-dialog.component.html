<p-dialog *ngIf="survey && !survey.background" [header]="survey.template.name" [visible]="isVisible()"  [draggable]="false" [closable]="false"   [style]="{minWidth: '50vw'}" >

  <ng-template [ngIf]="enableMinimize" >
    <ng-template pTemplate="header">
      <div class="p-dialog-title" >{{survey.template.name}}</div>
      <div class="p-dialog-header-icons" *ngIf="!displayResult" >
        <button pButton pRipple type="button" icon="pi pi-window-minimize" class="p-button-rounded p-button-secondary p-button-text" (click)="clickMinimize()" ></button>
      </div>
    </ng-template>
  </ng-template>


  <div class="grid p-fluid">

    <ng-template [ngIf]="!displayResult">
      <div class="col-12">
        <div class="time" >
          <h5>Time</h5>
          <p-progressBar [value]="progressBarValue"></p-progressBar>
        </div>
      </div>
    </ng-template>

    <ng-template [ngIf]="survey">
      <div class="col-12">
        <div class="field">
          <label class="block">Number of participants : {{ survey.answers.length }}</label>
        </div>
      </div>

      <div class="col-12 ">
          <app-survey-answer-visualization [survey]="survey" ></app-survey-answer-visualization>
      </div>
    </ng-template>

  </div>

  <ng-template pTemplate="footer">
    <ng-template [ngIf]="displayResult">
      <button pButton type="button" label="Close" (click)="onHide()" [disabled]="!displayResult" ></button>
    </ng-template>
  </ng-template>
</p-dialog>
<app-backdrop [visible]="isVisible()" ></app-backdrop>
